import{j as a}from"./jsx-runtime-CfatFE5O.js";import{r as u,R as He}from"./index-ClcD9ViR.js";import{B as ee}from"./Button-BKBEGp9E.js";import{C as Oe}from"./Card-CcWW2RSf.js";import{D as te}from"./Divider-m6wgbLLv.js";import{c as Re}from"./index-BdQq_4o_.js";import{c as Le,b as Fe,a as E}from"./index-D-jls2fw.js";import{u as N}from"./index-ClVxAquS.js";import{u as $e}from"./index-BCyXaPxf.js";import{u as Ue}from"./index-sY83p_TZ.js";import{u as Ye}from"./index-DSWkTB7Z.js";import{P as F}from"./index-DDVkbYHz.js";import{c as Xe}from"./index-D_eSFn5K.js";import{c as A}from"./cx-CYgzbKIn.js";import{f as Ge}from"./focusRing-49zpLVVu.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./index-BWmfHM-C.js";import"./index-CF-iJ_jy.js";import"./index-ZuzByk-F.js";import"./index-VEzCCWBB.js";var Pe=["PageUp","PageDown"],De=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],je={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},_="Slider",[G,We,qe]=Xe(_),[Ce,Nt]=Le(_,[qe]),[Je,$]=Ce(_),Ve=u.forwardRef((e,t)=>{const{name:r,min:o=0,max:s=100,step:l=1,orientation:n="horizontal",disabled:d=!1,minStepsBetweenThumbs:c=0,defaultValue:p=[o],value:w,onValueChange:i=()=>{},onValueCommit:m=()=>{},inverted:x=!1,form:y,...S}=e,h=u.useRef(new Set),f=u.useRef(0),b=n==="horizontal"?Qe:Ze,[g=[],I]=Fe({prop:w,defaultProp:p,onChange:v=>{var C;(C=[...h.current][f.current])==null||C.focus(),i(v)}}),U=u.useRef(g);function Y(v){const P=nt(g,v);M(v,P)}function ze(v){M(v,f.current)}function Be(){const v=U.current[f.current];g[f.current]!==v&&m(g)}function M(v,P,{commit:C}={commit:!1}){const Q=lt(l),X=dt(Math.round((v-o)/l)*l+o,Q),k=Re(X,[o,s]);I((V=[])=>{const D=rt(V,k,P);if(it(D,c*l)){f.current=D.indexOf(k);const Z=String(D)!==String(V);return Z&&C&&m(D),Z?D:V}else return V})}return a.jsx(Je,{scope:e.__scopeSlider,name:r,disabled:d,min:o,max:s,valueIndexToChangeRef:f,thumbs:h.current,values:g,orientation:n,form:y,children:a.jsx(G.Provider,{scope:e.__scopeSlider,children:a.jsx(G.Slot,{scope:e.__scopeSlider,children:a.jsx(b,{"aria-disabled":d,"data-disabled":d?"":void 0,...S,ref:t,onPointerDown:E(S.onPointerDown,()=>{d||(U.current=g)}),min:o,max:s,inverted:x,onSlideStart:d?void 0:Y,onSlideMove:d?void 0:ze,onSlideEnd:d?void 0:Be,onHomeKeyDown:()=>!d&&M(o,0,{commit:!0}),onEndKeyDown:()=>!d&&M(s,g.length-1,{commit:!0}),onStepKeyDown:({event:v,direction:P})=>{if(!d){const X=Pe.includes(v.key)||v.shiftKey&&De.includes(v.key)?10:1,k=f.current,V=g[k],D=l*X*P;M(V+D,k,{commit:!0})}}})})})})});Ve.displayName=_;var[Ee,_e]=Ce(_,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Qe=u.forwardRef((e,t)=>{const{min:r,max:o,dir:s,inverted:l,onSlideStart:n,onSlideMove:d,onSlideEnd:c,onStepKeyDown:p,...w}=e,[i,m]=u.useState(null),x=N(t,b=>m(b)),y=u.useRef(),S=$e(s),h=S==="ltr",f=h&&!l||!h&&l;function j(b){const g=y.current||i.getBoundingClientRect(),I=[0,g.width],Y=J(I,f?[r,o]:[o,r]);return y.current=g,Y(b-g.left)}return a.jsx(Ee,{scope:e.__scopeSlider,startEdge:f?"left":"right",endEdge:f?"right":"left",direction:f?1:-1,size:"width",children:a.jsx(Ie,{dir:S,"data-orientation":"horizontal",...w,ref:x,style:{...w.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const g=j(b.clientX);n==null||n(g)},onSlideMove:b=>{const g=j(b.clientX);d==null||d(g)},onSlideEnd:()=>{y.current=void 0,c==null||c()},onStepKeyDown:b=>{const I=je[f?"from-left":"from-right"].includes(b.key);p==null||p({event:b,direction:I?-1:1})}})})}),Ze=u.forwardRef((e,t)=>{const{min:r,max:o,inverted:s,onSlideStart:l,onSlideMove:n,onSlideEnd:d,onStepKeyDown:c,...p}=e,w=u.useRef(null),i=N(t,w),m=u.useRef(),x=!s;function y(S){const h=m.current||w.current.getBoundingClientRect(),f=[0,h.height],b=J(f,x?[o,r]:[r,o]);return m.current=h,b(S-h.top)}return a.jsx(Ee,{scope:e.__scopeSlider,startEdge:x?"bottom":"top",endEdge:x?"top":"bottom",size:"height",direction:x?1:-1,children:a.jsx(Ie,{"data-orientation":"vertical",...p,ref:i,style:{...p.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:S=>{const h=y(S.clientY);l==null||l(h)},onSlideMove:S=>{const h=y(S.clientY);n==null||n(h)},onSlideEnd:()=>{m.current=void 0,d==null||d()},onStepKeyDown:S=>{const f=je[x?"from-bottom":"from-top"].includes(S.key);c==null||c({event:S,direction:f?-1:1})}})})}),Ie=u.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:o,onSlideMove:s,onSlideEnd:l,onHomeKeyDown:n,onEndKeyDown:d,onStepKeyDown:c,...p}=e,w=$(_,r);return a.jsx(F.span,{...p,ref:t,onKeyDown:E(e.onKeyDown,i=>{i.key==="Home"?(n(i),i.preventDefault()):i.key==="End"?(d(i),i.preventDefault()):Pe.concat(De).includes(i.key)&&(c(i),i.preventDefault())}),onPointerDown:E(e.onPointerDown,i=>{const m=i.target;m.setPointerCapture(i.pointerId),i.preventDefault(),w.thumbs.has(m)?m.focus():o(i)}),onPointerMove:E(e.onPointerMove,i=>{i.target.hasPointerCapture(i.pointerId)&&s(i)}),onPointerUp:E(e.onPointerUp,i=>{const m=i.target;m.hasPointerCapture(i.pointerId)&&(m.releasePointerCapture(i.pointerId),l(i))})})}),Me="SliderTrack",ke=u.forwardRef((e,t)=>{const{__scopeSlider:r,...o}=e,s=$(Me,r);return a.jsx(F.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...o,ref:t})});ke.displayName=Me;var W="SliderRange",Ne=u.forwardRef((e,t)=>{const{__scopeSlider:r,...o}=e,s=$(W,r),l=_e(W,r),n=u.useRef(null),d=N(t,n),c=s.values.length,p=s.values.map(m=>Te(m,s.min,s.max)),w=c>1?Math.min(...p):0,i=100-Math.max(...p);return a.jsx(F.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...o,ref:d,style:{...e.style,[l.startEdge]:w+"%",[l.endEdge]:i+"%"}})});Ne.displayName=W;var q="SliderThumb",Ae=u.forwardRef((e,t)=>{const r=We(e.__scopeSlider),[o,s]=u.useState(null),l=N(t,d=>s(d)),n=u.useMemo(()=>o?r().findIndex(d=>d.ref.current===o):-1,[r,o]);return a.jsx(et,{...e,ref:l,index:n})}),et=u.forwardRef((e,t)=>{const{__scopeSlider:r,index:o,name:s,...l}=e,n=$(q,r),d=_e(q,r),[c,p]=u.useState(null),w=N(t,j=>p(j)),i=c?n.form||!!c.closest("form"):!0,m=Ye(c),x=n.values[o],y=x===void 0?0:Te(x,n.min,n.max),S=ot(o,n.values.length),h=m==null?void 0:m[d.size],f=h?at(h,y,d.direction):0;return u.useEffect(()=>{if(c)return n.thumbs.add(c),()=>{n.thumbs.delete(c)}},[c,n.thumbs]),a.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[d.startEdge]:`calc(${y}% + ${f}px)`},children:[a.jsx(G.ItemSlot,{scope:e.__scopeSlider,children:a.jsx(F.span,{role:"slider","aria-label":e["aria-label"]||S,"aria-valuemin":n.min,"aria-valuenow":x,"aria-valuemax":n.max,"aria-orientation":n.orientation,"data-orientation":n.orientation,"data-disabled":n.disabled?"":void 0,tabIndex:n.disabled?void 0:0,...l,ref:w,style:x===void 0?{display:"none"}:e.style,onFocus:E(e.onFocus,()=>{n.valueIndexToChangeRef.current=o})})}),i&&a.jsx(tt,{name:s??(n.name?n.name+(n.values.length>1?"[]":""):void 0),form:n.form,value:x},o)]})});Ae.displayName=q;var tt=e=>{const{value:t,...r}=e,o=u.useRef(null),s=Ue(t);return u.useEffect(()=>{const l=o.current,n=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(n,"value").set;if(s!==t&&c){const p=new Event("input",{bubbles:!0});c.call(l,t),l.dispatchEvent(p)}},[s,t]),a.jsx("input",{style:{display:"none"},...r,ref:o,defaultValue:t})};function rt(e=[],t,r){const o=[...e];return o[r]=t,o.sort((s,l)=>s-l)}function Te(e,t,r){const l=100/(r-t)*(e-t);return Re(l,[0,100])}function ot(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function nt(e,t){if(e.length===1)return 0;const r=e.map(s=>Math.abs(s-t)),o=Math.min(...r);return r.indexOf(o)}function at(e,t,r){const o=e/2,l=J([0,50],[0,o]);return(o-l(t)*r)*r}function st(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function it(e,t){if(t>0){const r=st(e);return Math.min(...r)>=t}return!0}function J(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const o=(t[1]-t[0])/(e[1]-e[0]);return t[0]+o*(r-e[0])}}function lt(e){return(String(e).split(".")[1]||"").length}function dt(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var Ke=Ve,ct=ke,ut=Ne,mt=Ae;const R=u.forwardRef(({className:e,ariaLabelThumb:t,...r},o)=>{const s=r.value||r.defaultValue;return a.jsxs(Ke,{ref:o,className:A("relative flex cursor-pointer touch-none select-none","data-[orientation='horizontal']:w-full data-[orientation='horizontal']:items-center","data-[orientation='vertical']:h-full data-[orientation='vertical']:w-fit data-[orientation='vertical']:justify-center","data-[disabled]:pointer-events-none",e),"tremor-id":"tremor-raw",...r,children:[a.jsx(ct,{className:A("relative grow overflow-hidden rounded-full bg-gray-200 dark:bg-gray-800","data-[orientation='horizontal']:h-1.5 data-[orientation='horizontal']:w-full","data-[orientation='vertical']:h-full data-[orientation='vertical']:w-1.5"),children:a.jsx(ut,{className:A("absolute rounded-full bg-blue-500 dark:bg-blue-500","data-[orientation='horizontal']:h-full","data-[orientation='vertical']:w-full","data-[disabled]:bg-gray-300 dark:data-[disabled]:bg-gray-700")})}),s==null?void 0:s.map((l,n)=>a.jsx(mt,{className:A("block size-[17px] shrink-0 rounded-full border shadow transition-all","border-gray-400 dark:border-gray-500","bg-white","data-[disabled]:pointer-events-none data-[disabled]:bg-gray-200 dark:data-[disabled]:border-gray-800 dark:data-[disabled]:bg-gray-600",Ge,"outline-offset-0"),"aria-label":t},n))]})});R.displayName=Ke.displayName;R.__docgenInfo={description:"",methods:[],props:{ariaLabelThumb:{required:!1,tsType:{name:"string"},description:""}}};const At={title:"ui/Slider",component:R},ft=e=>{const[t,r]=He.useState([55,75]);return a.jsxs(Oe,{className:"w-96",children:[a.jsxs("form",{onSubmit:o=>{o.preventDefault(),alert(`Submitted: ${t[0]}, ${t[1]}`)},onReset:()=>r([55,75]),children:[a.jsx(R,{id:"a",value:t,onValueChange:r,...e}),a.jsx(te,{}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx(ee,{type:"submit",className:"mt-2 w-fit",children:"Submit"}),a.jsx(ee,{type:"reset",variant:"secondary",className:"mt-2 w-fit",children:"Reset Input"})]})]}),a.jsx(te,{}),a.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Slider value:",a.jsxs("span",{className:"ml-1 font-semibold text-gray-900 dark:text-gray-50",children:[t[0],", ",t[1]]})]})]})},T={render:()=>a.jsx(R,{defaultValue:[55]})},K={render:()=>a.jsx(R,{defaultValue:[55,75]})},z={render:()=>a.jsx(R,{defaultValue:[55],disabled:!0})},B={render:()=>a.jsx(R,{defaultValue:[55],inverted:!0})},H={render:()=>a.jsx("div",{className:"h-20",children:a.jsx(R,{defaultValue:[55],orientation:"vertical"})})},O={render:()=>a.jsx(R,{defaultValue:[55],step:10})},L={render:ft};var re,oe,ne;T.parameters={...T.parameters,docs:{...(re=T.parameters)==null?void 0:re.docs,source:{originalSource:`{
  render: () => <Slider defaultValue={[55]} />
}`,...(ne=(oe=T.parameters)==null?void 0:oe.docs)==null?void 0:ne.source}}};var ae,se,ie;K.parameters={...K.parameters,docs:{...(ae=K.parameters)==null?void 0:ae.docs,source:{originalSource:`{
  render: () => <Slider defaultValue={[55, 75]} />
}`,...(ie=(se=K.parameters)==null?void 0:se.docs)==null?void 0:ie.source}}};var le,de,ce;z.parameters={...z.parameters,docs:{...(le=z.parameters)==null?void 0:le.docs,source:{originalSource:`{
  render: () => <Slider defaultValue={[55]} disabled />
}`,...(ce=(de=z.parameters)==null?void 0:de.docs)==null?void 0:ce.source}}};var ue,me,fe;B.parameters={...B.parameters,docs:{...(ue=B.parameters)==null?void 0:ue.docs,source:{originalSource:`{
  render: () => <Slider defaultValue={[55]} inverted />
}`,...(fe=(me=B.parameters)==null?void 0:me.docs)==null?void 0:fe.source}}};var pe,he,ge;H.parameters={...H.parameters,docs:{...(pe=H.parameters)==null?void 0:pe.docs,source:{originalSource:`{
  render: () => <div className="h-20">
      <Slider defaultValue={[55]} orientation="vertical" />
    </div>
}`,...(ge=(he=H.parameters)==null?void 0:he.docs)==null?void 0:ge.source}}};var Se,xe,be;O.parameters={...O.parameters,docs:{...(Se=O.parameters)==null?void 0:Se.docs,source:{originalSource:`{
  render: () => <Slider defaultValue={[55]} step={10} />
}`,...(be=(xe=O.parameters)==null?void 0:xe.docs)==null?void 0:be.source}}};var ve,we,ye;L.parameters={...L.parameters,docs:{...(ve=L.parameters)==null?void 0:ve.docs,source:{originalSource:`{
  render: ControlledSlider
}`,...(ye=(we=L.parameters)==null?void 0:we.docs)==null?void 0:ye.source}}};const Tt=["Default","Range","Disabled","Inverted","Vertical","StepSize","ControlledForm"];export{L as ControlledForm,T as Default,z as Disabled,B as Inverted,K as Range,O as StepSize,H as Vertical,Tt as __namedExportsOrder,At as default};
